{% extends "layout.html" %}

{% block dbody %}

{% if messages %}
{% for message in messages %}
<div class="alert alert-{{ message.tags }}">
  {{ message }}
</div>
{% endfor %}
{% endif %}

{% for condition in conditions %}
<article class="media content-section">
  <!-- <img class="rounded-circle article-img" src="{{ post.author.profile.image.url }}"> -->
  <div class="media-body">
    <div class="article-metadata">
      <!-- <a class="mr-2" href="#">{{ .author }}</a> -->
      <!-- <small class="text-muted">{{ post.date_posted|date:"F d, Y" }}</small> -->
    </div>
    <h2><a class="article-title" href="">{{ condition.name }}</a></h2>
    <span>
      <form action="/del_cond" method="POST">{% csrf_token %}
        <input type="hidden" name="cond_id" value="{{ condition.id }}">
        <input class="submit" type="submit" id="submit" name="submit" value="Delete">
      </form>
    </span>
    <!-- <p class="article-content">{{ post.content }}</p> -->
  </div>
</article>
{% endfor %}

<!-- Button trigger modal -->
<button type="button" class="btn btn-primary btn-circle btn-md" data-toggle="modal"
  data-target="#exampleModal">+</button>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <form action="/new_cond" method="POST">{% csrf_token %}
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">New Condition</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">

          <label for='cond_name'>NAME: </label>
          <input type="text" id="cond_name" name="cond_name">
          <br>
          <select id="cond_type" name="cond_type">
            <option value="realtime">Realtime Price</option>
            <!-- <option value="volume">Volume</option> -->
            <!-- <option value="maverage">Moving Average</option> -->
          </select>
          <br>
          <select id="coin" name="coin">
            {% for coin in coins %}
            <option value="{{ coin.name }}">{{ coin.name }}</option>
            {% endfor %}
          </select>
          <select id="trigger" name="trigger">
            <option value=">">></option>
            <option value="<">
              << /option>
          </select>
          <input type="number" id="amount" name="amount" step="0.01">
          <label>$, NOTIFY ME!</label>
          <br>
          <!-- <input class="submit" type="submit" id="submit" value="Add condition"> -->


        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary submit" id="submit">Add</button>
        </div>
      </div>
    </div>
  </form>
</div>
{% endblock %}